<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Survivor Island</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div id="game-container">
    <!-- Hamburger Menu -->
    <div id="hamburger-icon">
      <div class="bar1"></div>
      <div class="bar2"></div>
      <div class="bar3"></div>
    </div>

    <!-- Game Menu -->
    <div id="game-menu" class="hidden">
      <div class="menu-header">
        <h3>Survivor Island Menu</h3>
        <span id="close-menu">&times;</span>
      </div>
      <div class="menu-content">
        <div id="player-stats-section" class="menu-section">
          <h4>Player Stats</h4>
          <div id="player-stats"></div>
        </div>
        <div id="game-info-section" class="menu-section">
          <h4>Game Information</h4>
          <div id="game-info"></div>
        </div>
        <div id="tribe-info-section" class="menu-section">
          <h4>Tribe Information</h4>
          <div id="tribe-info"></div>
        </div>
        <div id="inventory-section" class="menu-section">
          <h4>Inventory</h4>
          <div id="inventory">
            <p id="idol-status">Hidden Immunity Idol: No</p>
            <p id="idols-in-play">Idols in Play: 0</p>
            <p id="immunity-status">Immunity: No</p>
          </div>
        </div>
        <div class="menu-buttons">
          <button id="save-game-button" class="menu-button">Save Game</button>
          <button id="load-game-button" class="menu-button">Load Game</button>
          <button id="restart-game-button" class="menu-button">Restart Game</button>
          <button id="help-button" class="menu-button">Help</button>
        </div>
      </div>
    </div>

    <!-- Welcome Screen -->
    <div id="welcome-screen" class="game-screen active"></div>

    <!-- Character Selection Screen -->
    <div id="character-selection-screen" class="game-screen"></div>

    <!-- Tribe Division Screen -->
    <div id="tribe-division-screen" class="game-screen"></div>

    <div id="tribe-flag-screen" class="game-screen"></div>

    <!-- Challenge Screen -->
    <div id="challenge-screen" class="game-screen">
      <h2 id="challenge-title">Immunity Challenge</h2>
      <p id="challenge-description"></p>
      <div class="challenge-container">
        <div class="challenge-progress">
          <div class="progress-bar">
            <div id="challenge-progress-bar" class="progress-fill"></div>
          </div>
        </div>
        <button id="challenge-button" class="big-button">Start Challenge</button>
      </div>
      <div id="competitors-container"></div>
    </div>

    <!-- Camp Screen -->
    <div id="camp-screen" class="game-screen">
      <div id="camp-content"></div>

      <!-- Action Bar -->
      <div id="camp-action-bar">
        <img src="Assets/button-row.jpeg" id="action-bar-bg" />
        <div id="action-buttons">
          <!-- Buttons will be injected here -->
        </div>
      </div>
    </div>

    <!-- Tribal Council Screen -->
    <div id="tribal-council-screen" class="game-screen"></div>

    <!-- Fire Making Challenge Screen -->
    <div id="fire-making-challenge-screen" class="game-screen">
      <!-- Content populated dynamically -->
    </div>

    <!-- Dialogue System -->
    <div id="dialogue-container" class="hidden"></div>
  </div>

  <!-- Show red banner if main.js fails -->
  <script>
    setTimeout(() => {
      if (!window.mainJsLoaded) {
        const errorBanner = document.createElement('div');
        errorBanner.textContent = 'ERROR: main.js failed to load.';
        errorBanner.style.position = 'fixed';
        errorBanner.style.top = '0';
        errorBanner.style.left = '0';
        errorBanner.style.width = '100%';
        errorBanner.style.backgroundColor = 'darkred';
        errorBanner.style.color = 'white';
        errorBanner.style.padding = '10px';
        errorBanner.style.fontWeight = 'bold';
        errorBanner.style.textAlign = 'center';
        errorBanner.style.zIndex = '9999';
        document.body.appendChild(errorBanner);
      }
    }, 2000);
  </script>
  <!-- Main Game Script -->
  <script type="module" src="src/main.js"></script>
</body>
</html>